(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{544:function(t,r,s){"use strict";s.r(r);var a=s(44),h=Object(a.a)({},(function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"路由原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由原理"}},[t._v("#")]),t._v(" 路由原理")]),t._v(" "),s("ul",[s("li",[t._v("前端路由就是匹配不同的url路径，进行解析，动态渲染出区域html的内容。")]),t._v(" "),s("li",[t._v("vue路由的原理就是 在改变url的情况下，保证页面不刷新。")])]),t._v(" "),s("h2",{attrs:{id:"hash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[t._v("#")]),t._v(" hash")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("http://www.xxx.com/#/login\n")])])]),s("ul",[s("li",[s("p",[t._v("在#后面的值就是hash值"),s("br"),t._v("\n可以通过window.location.hash获取，hash值变化并不会让浏览器向服务器发送请求，不发出请求就不会刷新页面。")])]),t._v(" "),s("li",[s("p",[t._v("每次hash值的变化，都会触发"),s("strong",[t._v("haschange")]),t._v("事件"),s("br"),t._v("\n通过这个事件，我们可以得知hash值发生了什么变化。\n然后便监听haschange来实现更新页面部分内容和增加浏览器历史记录的操作。")])]),t._v(" "),s("li",[s("p",[t._v("使用History.push()和History.replace()来对浏览器历史记录的栈进行操作")])])]),t._v(" "),s("h2",{attrs:{id:"history"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history"}},[t._v("#")]),t._v(" history")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("HTML5新增了两个API: pushState和replaceState"),s("br"),t._v("\n通过这两个API可以改变url地址且不会发送请求。")])]),t._v(" "),s("li",[s("p",[t._v("原理与hash是一样的，且不会多出一个#"),s("br"),t._v("\n但是因为没有#，所以用户刷新页面时，浏览器还是会发送请求。")])]),t._v(" "),s("li",[s("p",[t._v("使用这两个方法修改了浏览器历史记录栈"),s("br"),t._v("\n虽然url改变了，却不会发送请求。")])]),t._v(" "),s("li",[s("p",[t._v("使用window.onpopstate监听。")])])]),t._v(" "),s("h2",{attrs:{id:"比较"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#比较"}},[t._v("#")]),t._v(" 比较")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("url")]),s("br"),t._v("\npushState设置新url可以是与当前url同源的任意url"),s("br"),t._v("\nhash只能修改#后的部分，只能设置当前同文档的url")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("记录信息")]),s("br"),t._v("\npushState可以通过stateObject添加任何类型的数据到记录中"),s("br"),t._v("\nhash只能添加端字符串")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("title")]),s("br"),t._v("\npushState可以设置title属性供后续使用")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("请求")]),s("br"),t._v("\nhistory模式会将url修改的和正常请求的url一样，需要后端做对应处理")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("刷新")]),s("br"),t._v("\nhistory可以输入当前页面url，实现刷新"),s("br"),t._v("\nhash输入当前路径没有变化")])])])])}),[],!1,null,null,null);r.default=h.exports}}]);